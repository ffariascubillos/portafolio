import{a as e,c as t,i as n,l as r,m as i,n as a,o,r as s,s as c,t as l,u}from"./firebaseConfig-C_lDYAY2.js";var d=i(r()),f=i(u()),p=i(t());function m(){let[t,r]=(0,f.useState)([]),[i,u]=(0,f.useState)(null),[d,m]=(0,f.useState)({title:``,folder:``,cover:``,description:``,tech:``}),h=async()=>{let e=(await o(s(l,`projects`))).docs.map(e=>({id:e.id,...e.data()}));r(e)};(0,f.useEffect)(()=>{h()},[]);let g=e=>{let{name:t,value:n}=e.target;m({...d,[t]:n})},_=async e=>{e.preventDefault();let t={...d,tech:d.tech.split(`,`).map(e=>e.trim())};await a(s(l,`projects`),t),m({title:``,folder:``,cover:``,description:``,tech:``}),h()},v=async t=>{await n(e(l,`projects`,t)),h()},y=e=>{u(e.id),m({title:e.title,folder:e.folder,cover:e.cover,description:e.description,tech:e.tech.join(`, `)})};return(0,p.jsx)(`section`,{className:`min-h-screen bg-gray-100 py-10 px-6`,children:(0,p.jsxs)(`div`,{className:`max-w-4xl mx-auto bg-white shadow-lg rounded-2xl p-8`,children:[(0,p.jsx)(`h2`,{className:`text-2xl font-bold mb-6 text-center`,children:`Panel de Administración de Proyectos`}),(0,p.jsxs)(`form`,{onSubmit:i?async t=>{t.preventDefault();let n={...d,tech:d.tech.split(`,`).map(e=>e.trim())};await c(e(l,`projects`,i),n),u(null),m({title:``,folder:``,cover:``,description:``,tech:``}),h()}:_,className:`flex flex-col gap-4 mb-10`,children:[(0,p.jsx)(`input`,{type:`text`,name:`title`,placeholder:`Título`,value:d.title,onChange:g,className:`p-2 border rounded`,required:!0}),(0,p.jsx)(`input`,{type:`text`,name:`folder`,placeholder:`Carpeta`,value:d.folder,onChange:g,className:`p-2 border rounded`}),(0,p.jsx)(`input`,{type:`text`,name:`cover`,placeholder:`URL de portada`,value:d.cover,onChange:g,className:`p-2 border rounded`}),(0,p.jsx)(`textarea`,{name:`description`,placeholder:`Descripción`,value:d.description,onChange:g,className:`p-2 border rounded`}),(0,p.jsx)(`input`,{type:`text`,name:`tech`,placeholder:`Tecnologías (separadas por coma, ej: HTML, CSS, JS)`,value:d.tech,onChange:g,className:`p-2 border rounded`}),(0,p.jsx)(`button`,{type:`submit`,className:`bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition`,children:i?`Guardar Cambios`:`Agregar Proyecto`}),i&&(0,p.jsx)(`button`,{type:`button`,onClick:()=>{u(null),m({title:``,folder:``,cover:``,description:``,tech:``})},className:`bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500 transition`,children:`Cancelar Edición`})]}),(0,p.jsx)(`div`,{className:`space-y-4`,children:t.map(e=>(0,p.jsxs)(`div`,{className:`p-4 border rounded-lg flex justify-between items-start bg-gray-50`,children:[(0,p.jsxs)(`div`,{children:[(0,p.jsx)(`h3`,{className:`text-lg font-bold`,children:e.title}),(0,p.jsx)(`p`,{className:`text-sm text-gray-600`,children:e.description}),(0,p.jsx)(`div`,{className:`mt-2 flex flex-wrap gap-2`,children:e.tech?.map(e=>(0,p.jsx)(`span`,{className:`bg-blue-200 text-blue-800 px-2 py-1 rounded text-xs`,children:e},e))})]}),(0,p.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,p.jsx)(`button`,{onClick:()=>y(e),className:`bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600`,children:`Editar`}),(0,p.jsx)(`button`,{onClick:()=>v(e.id),className:`bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600`,children:`Eliminar`})]})]},e.id))})]})})}function h(){return(0,p.jsx)(`div`,{className:`font-sans`,children:(0,p.jsx)(m,{})})}var g=h;d.createRoot(document.getElementById(`root`)).render((0,p.jsx)(f.StrictMode,{children:(0,p.jsx)(g,{})}));